# [0018. dev](https://github.com/tnotesjs/TNotes.introduction/tree/main/notes/0018.%20dev)

<!-- region:toc -->

- [1. ğŸ¯ æœ¬èŠ‚å†…å®¹](#1--æœ¬èŠ‚å†…å®¹)
- [2. ğŸ«§ è¯„ä»·](#2--è¯„ä»·)
- [3. ğŸ¤” æœåŠ¡çš„å¯åŠ¨æµç¨‹æ˜¯ï¼Ÿ](#3--æœåŠ¡çš„å¯åŠ¨æµç¨‹æ˜¯)
  - [3.1. æ‰§è¡Œå¯åŠ¨å‘½ä»¤](#31-æ‰§è¡Œå¯åŠ¨å‘½ä»¤)
  - [3.2. å¯åŠ¨ vitepress æœåŠ¡](#32-å¯åŠ¨-vitepress-æœåŠ¡)

<!-- endregion:toc -->

## 1. ğŸ¯ æœ¬èŠ‚å†…å®¹

- `tn:dev` å‘½ä»¤ç®€ä»‹

## 2. ğŸ«§ è¯„ä»·

æ ¸å¿ƒæµç¨‹ï¼š

## 3. ğŸ¤” æœåŠ¡çš„å¯åŠ¨æµç¨‹æ˜¯ï¼Ÿ

### 3.1. æ‰§è¡Œå¯åŠ¨å‘½ä»¤

```bash
# æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå¯åŠ¨ç¬”è®°æœåŠ¡
pnpm tn:dev

# ç›¸å½“äºæ‰§è¡Œï¼š
# tsx ./.vitepress/tnotes/index.ts --dev
# æœ¬è´¨æ˜¯è¿è¡Œ ./.vitepress/tnotes/index.ts æ–‡ä»¶ï¼Œå¹¶ä¼ å…¥å¯åŠ¨å‚æ•° --dev
```

### 3.2. å¯åŠ¨ vitepress æœåŠ¡

åœ¨ `.vitepress/tnotes/commands/dev/DevCommand.ts` ä¸­å¼•å…¥äº†äºŒæ¬¡å°è£…çš„ `VitepressService` ç±»ï¼Œé€šè¿‡ `vitepressService.startServer()` æ¥å¯åŠ¨ vitepress æœåŠ¡ã€‚

éœ€è¦ç¡®ä¿æœåŠ¡æ˜¯å•ä¾‹çš„ï¼Œåœ¨æœåŠ¡å¯åŠ¨ä¹‹å‰ä¼šåšä»¥ä¸‹å¤„ç†ï¼š

- æ ¹æ®æœåŠ¡ ID `${repoName}-vitepress-dev` æ£€æŸ¥å½“å‰çŸ¥è¯†åº“çš„ vitepress æœåŠ¡æ˜¯å¦å·²å¯åŠ¨è¿‡ï¼Œè‹¥æ£€æµ‹åˆ°æœåŠ¡å·²ç»å¯åŠ¨åˆ™ kill æ—§çš„æœåŠ¡è¿›ç¨‹ã€‚
- æ£€æŸ¥æœåŠ¡ç«¯å£æ˜¯å¦è¢«å ç”¨ï¼Œè‹¥è¢«å ç”¨åˆ™ç»ˆæ­¢å ç”¨ç«¯å£çš„è¿›ç¨‹ã€‚

ç»è¿‡ä¸Šè¿°å¤„ç†ä¹‹åï¼Œå†æ‰§è¡Œ `vitepress dev` å‘½ä»¤ï¼š

```ts
// å¯åŠ¨ VitePress å¼€å‘æœåŠ¡å™¨
const pm = this.configManager.get('packageManager') || DEFAULT_PACKAGE_MANAGER
const args = ['vitepress', 'dev', '--port', port.toString()]

const processInfo = this.processManager.spawn(processId, pm, args, {
  cwd: ROOT_DIR_PATH,
  stdio: ['inherit', 'pipe', 'pipe'],
})
```

æ‰“å°æœåŠ¡çš„å¯åŠ¨çŠ¶æ€ï¼ˆæ¯”å¦‚æ‰«æåˆ°å¤šå°‘ç¯‡ç¬”è®°ï¼Œä¸€å…±è€—æ—¶å¤šé•¿æ—¶é—´ï¼‰ï¼Œåœ¨ç›‘å¬åˆ° vitepress æœåŠ¡å¯åŠ¨å®Œæˆï¼ˆç›‘å¬åˆ°è¿›ç¨‹è¾“å‡º `Local:` æˆ–è€… `http://localhost`ï¼‰ä¹‹åï¼Œæ‰“å°å¯åŠ¨æˆåŠŸåçš„ä¸€äº›æç¤ºä¿¡æ¯ã€‚

::: tip å¤‡æ³¨ï¼šæœåŠ¡å¯åŠ¨è¿›åº¦é—®é¢˜

å¯åŠ¨è¿›åº¦çš„çœŸå®ç™¾åˆ†æ¯”ä¸å¥½è·å–ï¼Œé€šè¿‡ vitepress çš„é’©å­åšäº†å°è¯•æ²¡èƒ½æˆåŠŸï¼Œå¯èƒ½éœ€è¦æ”¹ vitepress æºç ï¼Œç›®å‰ï¼ˆ26.02ï¼‰æ‰€æœ‰ TNotes çŸ¥è¯†åº“çš„å¯åŠ¨è€—æ—¶å¤§è‡´åœ¨åå‡ ç§’ä»¥å†…ï¼Œæ˜¯å¦èƒ½å¤Ÿçœ‹åˆ°çœŸå®è¿›åº¦å¯¹ä½“éªŒçš„å½±å“ä¹Ÿä¸æ˜¯å¾ˆå¤§ï¼Œå› æ­¤æš‚æ—¶å…ˆå°†è¿™ä¸ªçœŸå®ç™¾åˆ†æ¯”çš„ä¼˜åŒ–ç‚¹æŒ‚èµ·ï¼

æµ‹è¯•äº† `3k~4k` ç¬”è®°æ•°é‡çš„çŸ¥è¯†åº“ `TNotes.leetcode`ï¼Œå¯åŠ¨è€—æ—¶å¤§è‡´åœ¨ `10s~20s` å·¦å³ï¼Œå› æ­¤æš‚æ—¶å°†å¯åŠ¨çš„è¶…æ—¶æ—¶é—´è®¾ç½®ä¸ºäº† `60s`ã€‚

:::
